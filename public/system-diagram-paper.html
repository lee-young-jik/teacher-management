<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>시스템 구성도 (논문용)</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', 'Nanum Gothic', sans-serif;
      background: white;
      padding: 20px;
    }
    
    .page {
      max-width: 900px;
      margin: 0 auto 60px auto;
      border: 1px solid #ccc;
      padding: 30px;
      background: white;
    }
    
    .diagram-wrapper {
      position: relative;
      min-height: 520px;
    }
    
    /* 점선 그룹 박스 */
    .group {
      position: absolute;
      border: 2px dashed #888;
      border-radius: 10px;
      padding: 20px;
    }
    
    .group-label {
      position: absolute;
      top: -14px;
      left: 20px;
      background: white;
      padding: 0 12px;
      font-size: 14pt;
      font-weight: bold;
      color: #333;
    }
    
    /* 박스 스타일 */
    .box {
      position: absolute;
      border: 2px solid #333;
      background: white;
      padding: 12px 18px;
      text-align: center;
      min-width: 110px;
    }
    
    .box.dark {
      background: #2c3e50;
      color: white;
      border-color: #2c3e50;
    }
    
    .box.blue {
      background: #3498db;
      color: white;
      border-color: #3498db;
    }
    
    .box.gray {
      background: #ecf0f1;
      border-color: #bdc3c7;
    }
    
    .box-title {
      font-weight: bold;
      font-size: 12pt;
      margin-bottom: 4px;
    }
    
    .box-sub {
      font-size: 10pt;
      color: #666;
    }
    
    .box.dark .box-sub,
    .box.blue .box-sub {
      color: #ddd;
    }
    
    /* 사용자 아이콘 */
    .user-icon {
      position: absolute;
      text-align: center;
    }
    
    .user-icon svg {
      width: 55px;
      height: 65px;
    }
    
    .user-label {
      font-size: 12pt;
      font-weight: bold;
      margin-top: 8px;
    }
    
    .user-sub {
      font-size: 10pt;
      color: #666;
    }
    
    /* DB 아이콘 (실린더) */
    .db-icon {
      position: absolute;
      text-align: center;
    }
    
    .db-icon svg {
      width: 60px;
      height: 65px;
    }
    
    .db-label {
      font-size: 12pt;
      font-weight: bold;
      margin-top: 5px;
    }
    
    /* 화살표 라벨 */
    .arrow-label {
      position: absolute;
      font-size: 10pt;
      font-weight: 500;
      color: #333;
      white-space: nowrap;
      background: white;
      padding: 2px 6px;
    }
    
    /* SVG 화살표 오버레이 */
    .arrows-svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    
    /* 하단 구조 설명 */
    .structure-label {
      text-align: center;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 2px solid #333;
      font-size: 13pt;
      font-weight: bold;
      color: #333;
    }
    
    /* Figure 캡션 */
    .figure-caption {
      text-align: center;
      font-size: 11pt;
      margin-top: 15px;
      color: #333;
    }

    h2 {
      text-align: center;
      font-size: 16pt;
      margin-bottom: 25px;
      color: #222;
    }
  </style>
</head>
<body>

<!-- ==================== (a) 교사용 시스템 구성도 ==================== -->
<div class="page">
  <h2>(a) 교사용 수업 분석 시스템 구성도</h2>
  
  <div class="diagram-wrapper">
    <!-- SVG 화살표 -->
    <svg class="arrows-svg" viewBox="0 0 850 500">
      <!-- 사용자 → Frontend -->
      <line x1="85" y1="120" x2="155" y2="120" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      
      <!-- Frontend → API 서버 (영상 업로드) -->
      <line x1="320" y1="95" x2="410" y2="95" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      
      <!-- API 서버 → FFmpeg -->
      <line x1="500" y1="130" x2="500" y2="185" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      
      <!-- FFmpeg → AssemblyAI -->
      <line x1="570" y1="220" x2="640" y2="220" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      
      <!-- AssemblyAI → OpenRouter -->
      <line x1="720" y1="260" x2="720" y2="310" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      
      <!-- OpenRouter → DB/파일 (분석결과) -->
      <path d="M 650 360 Q 550 400 480 420" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
      
      <!-- API 서버 → Frontend (리포트) -->
      <line x1="410" y1="145" x2="320" y2="145" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      
      <!-- Frontend → 사용자 (결과확인) -->
      <line x1="155" y1="160" x2="85" y2="160" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      
      <!-- 화살표 마커 정의 -->
      <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
        </marker>
      </defs>
    </svg>
    
    <!-- 사용자 아이콘 -->
    <div class="user-icon" style="left: 15px; top: 80px;">
      <svg viewBox="0 0 50 60" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="25" cy="15" r="12" stroke="#333" stroke-width="2" fill="white"/>
        <path d="M5 55 Q5 35 25 35 Q45 35 45 55" stroke="#333" stroke-width="2" fill="white"/>
      </svg>
      <div class="user-label">사용자</div>
      <div class="user-sub">(교사)</div>
    </div>
    
    <!-- Frontend 그룹 -->
    <div class="group" style="left: 145px; top: 50px; width: 185px; height: 150px;">
      <span class="group-label">Frontend (UI)</span>
      <div class="box" style="position: relative; top: 35px; left: 25px; width: 130px;">
        <div class="box-title">Frontend</div>
        <div class="box-sub">Next.js</div>
      </div>
    </div>
    
    <!-- Backend 그룹 -->
    <div class="group" style="left: 400px; top: 25px; width: 410px; height: 330px;">
      <span class="group-label">API Server (Backend)</span>
      
      <!-- API 서버 -->
      <div class="box dark" style="position: relative; top: 40px; left: 30px; width: 140px;">
        <div class="box-title">API 서버</div>
        <div class="box-sub">Next.js Routes</div>
      </div>
      
      <!-- FFmpeg -->
      <div class="box gray" style="position: relative; top: 75px; left: 30px; width: 140px;">
        <div class="box-title">FFmpeg</div>
        <div class="box-sub">오디오 추출</div>
      </div>
      
      <!-- AssemblyAI -->
      <div class="box blue" style="position: relative; top: -15px; left: 220px; width: 150px;">
        <div class="box-title">AssemblyAI</div>
        <div class="box-sub">전사 + 화자구분</div>
      </div>
      
      <!-- OpenRouter -->
      <div class="box blue" style="position: relative; top: 15px; left: 220px; width: 150px;">
        <div class="box-title">OpenRouter</div>
        <div class="box-sub">Gemini 분석</div>
      </div>
    </div>
    
    <!-- 화살표 라벨들 -->
    <div class="arrow-label" style="left: 335px; top: 68px;">영상 업로드</div>
    <div class="arrow-label" style="left: 335px; top: 152px;">리포트 반환</div>
    <div class="arrow-label" style="left: 575px; top: 195px;">오디오</div>
    <div class="arrow-label" style="left: 730px; top: 280px;">전사결과</div>
    <div class="arrow-label" style="left: 540px; top: 380px;">분석결과</div>
    
    <!-- DB 아이콘 -->
    <div class="db-icon" style="left: 420px; top: 400px;">
      <svg viewBox="0 0 50 55" fill="none" xmlns="http://www.w3.org/2000/svg">
        <ellipse cx="25" cy="10" rx="22" ry="8" stroke="#333" stroke-width="2" fill="#ecf0f1"/>
        <path d="M3 10 L3 42 Q3 50 25 50 Q47 50 47 42 L47 10" stroke="#333" stroke-width="2" fill="#ecf0f1"/>
        <ellipse cx="25" cy="10" rx="22" ry="8" stroke="#333" stroke-width="2" fill="#ecf0f1"/>
      </svg>
      <div class="db-label">DB</div>
      <div class="user-sub">Supabase</div>
    </div>
    
    <!-- 파일 저장소 -->
    <div class="box gray" style="left: 560px; top: 410px; width: 130px;">
      <div class="box-title">파일 저장소</div>
      <div class="box-sub">JSON 원본</div>
    </div>
  </div>
  
  <div class="structure-label">클라이언트 – 서버 – 클라우드 (AI) 구조</div>
  <div class="figure-caption">Figure 1(a). 교사용 수업 분석 시스템 구성도</div>
</div>


<!-- ==================== (b) 관리자용 시스템 구성도 ==================== -->
<div class="page">
  <h2>(b) 관리자용 통계/평가 시스템 구성도</h2>
  
  <div class="diagram-wrapper" style="min-height: 420px;">
    <!-- SVG 화살표 -->
    <svg class="arrows-svg" viewBox="0 0 850 400">
      <!-- 사용자 → Frontend -->
      <line x1="85" y1="120" x2="155" y2="120" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
      
      <!-- Frontend → API 서버 -->
      <line x1="320" y1="95" x2="410" y2="95" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
      
      <!-- API 서버 → DB -->
      <line x1="530" y1="100" x2="610" y2="100" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
      
      <!-- DB → API 서버 -->
      <line x1="610" y1="140" x2="530" y2="140" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
      
      <!-- API 서버 → OpenRouter -->
      <line x1="480" y1="180" x2="480" y2="240" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
      
      <!-- OpenRouter → API 서버 -->
      <line x1="520" y1="240" x2="520" y2="180" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
      
      <!-- API 서버 → Frontend -->
      <line x1="410" y1="145" x2="320" y2="145" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
      
      <!-- Frontend → 사용자 -->
      <line x1="155" y1="160" x2="85" y2="160" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
      
      <defs>
        <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
        </marker>
      </defs>
    </svg>
    
    <!-- 사용자 아이콘 -->
    <div class="user-icon" style="left: 15px; top: 80px;">
      <svg viewBox="0 0 50 60" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="25" cy="15" r="12" stroke="#333" stroke-width="2" fill="white"/>
        <path d="M5 55 Q5 35 25 35 Q45 35 45 55" stroke="#333" stroke-width="2" fill="white"/>
      </svg>
      <div class="user-label">사용자</div>
      <div class="user-sub">(관리자)</div>
    </div>
    
    <!-- Frontend 그룹 -->
    <div class="group" style="left: 145px; top: 50px; width: 185px; height: 150px;">
      <span class="group-label">Frontend (UI)</span>
      <div class="box" style="position: relative; top: 30px; left: 15px; width: 155px;">
        <div class="box-title">관리자 대시보드</div>
        <div class="box-sub">통계/교사목록/비교</div>
      </div>
    </div>
    
    <!-- Backend 그룹 -->
    <div class="group" style="left: 400px; top: 25px; width: 380px; height: 300px;">
      <span class="group-label">API Server (Backend)</span>
      
      <!-- API 서버 -->
      <div class="box dark" style="position: relative; top: 40px; left: 25px; width: 140px;">
        <div class="box-title">API 서버</div>
        <div class="box-sub">통계/요약 API</div>
      </div>
      
      <!-- OpenRouter -->
      <div class="box blue" style="position: relative; top: 110px; left: 25px; width: 160px;">
        <div class="box-title">OpenRouter</div>
        <div class="box-sub">AI 종합평가 생성</div>
      </div>
      
      <!-- DB 아이콘 -->
      <div class="db-icon" style="position: relative; top: -125px; left: 230px;">
        <svg viewBox="0 0 50 55" fill="none" xmlns="http://www.w3.org/2000/svg">
          <ellipse cx="25" cy="10" rx="22" ry="8" stroke="#333" stroke-width="2" fill="#ecf0f1"/>
          <path d="M3 10 L3 42 Q3 50 25 50 Q47 50 47 42 L47 10" stroke="#333" stroke-width="2" fill="#ecf0f1"/>
          <ellipse cx="25" cy="10" rx="22" ry="8" stroke="#333" stroke-width="2" fill="#ecf0f1"/>
        </svg>
        <div class="db-label">DB</div>
        <div class="user-sub">reports/profiles</div>
      </div>
    </div>
    
    <!-- 화살표 라벨들 -->
    <div class="arrow-label" style="left: 335px; top: 68px;">통계 요청</div>
    <div class="arrow-label" style="left: 335px; top: 152px;">통계/리포트</div>
    <div class="arrow-label" style="left: 545px; top: 75px;">데이터 조회</div>
    <div class="arrow-label" style="left: 535px; top: 148px;">교사별 데이터</div>
    <div class="arrow-label" style="left: 430px; top: 205px;">요약 요청</div>
    <div class="arrow-label" style="left: 525px; top: 205px;">AI 평가</div>
  </div>
  
  <div class="structure-label">클라이언트 – 서버 – 클라우드 (AI) 구조</div>
  <div class="figure-caption">Figure 1(b). 관리자용 통계/평가 시스템 구성도</div>
</div>

</body>
</html>
